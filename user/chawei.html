<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>出租车违章记录查询</title>
    <!-- 引入样式与图标库，简化开发 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        // 模拟出租车违章数据（后续可对接后端接口替换）
        const violationData = [
            { id: 'WV20240502', plateNum: '京A88888', driver: '张师傅', time: '2024-05-02 08:45', location: '人民路与解放路交叉口', type: '闯红灯', penalty: '罚款200元，记6分', status: '未处理' },
            { id: 'WV20240508', plateNum: '京A66666', driver: '李师傅', time: '2024-05-08 14:20', location: '科技园路东段', type: '超速20%', penalty: '罚款100元，记3分', status: '已处理' },
            { id: 'WV20240515', plateNum: '京A99999', driver: '王师傅', time: '2024-05-15 11:10', location: '和平路西段', type: '违章停车', penalty: '罚款200元，不记分', status: '未处理' }
        ];

        // 违章记录查询功能
        function searchViolations() {
            const plateNum = document.getElementById('plateNum').value.trim();
            const driver = document.getElementById('driver').value.trim();
            const status = document.getElementById('status').value;
            let result = violationData;

            // 多条件筛选逻辑
            if (plateNum) {
                result = result.filter(item => item.plateNum.includes(plateNum));
            }
            if (driver) {
                result = result.filter(item => item.driver.includes(driver));
            }
            if (status !== 'all') {
                result = result.filter(item => item.status === status);
            }

            // 渲染查询结果
            const tableBody = document.getElementById('violationTableBody');
            tableBody.innerHTML = '';

            if (result.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="7" class="text-center py-4 text-gray-500">未查询到匹配的违章记录</td></tr>';
                return;
            }

            // 动态生成违章记录表格行
            result.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b hover:bg-gray-50 transition-colors';
                row.innerHTML = `
                    <td class="py-3 px-4">${item.id}</td>
                    <td class="py-3 px-4 font-medium">${item.plateNum}</td>
                    <td class="py-3 px-4">${item.driver}</td>
                    <td class="py-3 px-4">${item.time}</td>
                    <td class="py-3 px-4">${item.location}</td>
                    <td class="py-3 px-4">${item.type}</td>
                    <td class="py-3 px-4">${item.penalty}</td>
                    <td class="py-3 px-4">
                        <span class="px-2 py-1 rounded text-xs ${item.status === '已处理' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${item.status}
                        </span>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // 页面加载时默认显示所有违章记录
        window.onload = searchViolations;
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 页面头部导航 -->
    <header class="bg-red-600 text-white py-4">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-xl font-bold mb-2 md:mb-0">
                <i class="fa fa-exclamation-triangle mr-2"></i>出租车违章记录查询
            </h1>
            
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="container mx-auto px-4 py-6">
        <!-- 违章查询表单 -->
        <section class="bg-white rounded-lg shadow-md p-4 mb-6">
            <h2 class="text-lg font-semibold mb-4 text-gray-800">违章记录查询</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label for="plateNum" class="block text-sm font-medium text-gray-700 mb-1">出租车牌号</label>
                    <input type="text" id="plateNum" placeholder="例：京A88888"
					class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
					                 </div>
					                 <div>
					                     <label for="driver" class="block text-sm font-medium text-gray-700 mb-1">司机姓名</label>
					                     <input type="text" id="driver" placeholder="例：张师傅" 
					                         class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
					                 </div>
					                 <div>
					                     <label for="status" class="block text-sm font-medium text-gray-700 mb-1">处理状态</label>
					                     <select id="status" 
					                         class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
					                         <option value="all">全部状态</option>
					                         <option value="已处理">已处理</option>
					                         <option value="未处理">未处理</option>
					                     </select>
					                 </div>
					                 <div class="md:col-span-3">
					                     <button onclick="searchViolations()" 
					                         class="w-full md:w-auto bg-red-600 text-white px-6 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500">
					                         <i class="fa fa-search mr-1"></i>查询违章记录
					                     </button>
					                 </div>
					             </div>
					         </section>
					         <!-- 违章记录列表 -->
					         <section class="bg-white rounded-lg shadow-md overflow-hidden">
					             <div class="p-4 border-b flex justify-between items-center">
					                 <h2 class="text-lg font-semibold text-gray-800">
					                     <i class="fa fa-list-alt mr-2"></i>违章记录列表
					                 </h2>
					                 <span class="text-sm text-gray-500">共 <span id="violationCount">3</span> 条违章记录</span>
					             </div>
					             <!-- 适配小屏幕的横向滚动表格 -->
					             <div class="overflow-x-auto">
					                 <table class="min-w-full divide-y divide-gray-200">
					                     <thead class="bg-gray-50">
					                         <tr>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">记录编号</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">车牌号</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">司机</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">违章时间</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">违章地点</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">违章类型</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">处罚结果</th>
					                             <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">处理状态</th>
					                         </tr>
					                     </thead>
					                     <tbody id="violationTableBody" class="bg-white divide-y divide-gray-200">
					                         <!-- JS动态渲染违章数据 -->
					                     </tbody>
					                 </table>
					             </div>
					         </section>
					     </main>
	</body>
</html>